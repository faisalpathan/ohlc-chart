(this.webpackJsonpohlc=this.webpackJsonpohlc||[]).push([[0],{144:function(t,e,n){},268:function(t,e){},274:function(t,e,n){"use strict";n.r(e);var r=n(4),c=n(1),i=n.n(c),o=n(85),a=n.n(o),u=(n(144),n(135)),s=n(24),d=n.n(s),f=n(42),b=n(12),l=n(31),h=n(71),j=n(277),v=n(17),O=n(72),p=n(2),x=n(20),w=n(86),g=n(127),m=n(73),y=n.n(m),S=n(128),k=function(t){var e=20===t?0:2;return Object(S.ema)().id(e).options({windowSize:t}).merge((function(e,n){20===t?e.ema20=n:e.ema50=n})).accessor((function(e){return 20===t?e.ema20:e.ema50}))},E=function(t,e,n,r){var c=e-t.top-t.bottom,i=n-t.left-t.right;return[r?{innerTickSize:-1*c,tickStrokeOpacity:.2}:{},r?{innerTickSize:-1*i,tickStrokeOpacity:.2}:{}]},R=k(20),A=k(50),C=function(){return Object(r.jsx)(g.HoverTooltip,{yAccessor:A.accessor(),tooltipContent:("".concat(R.type(),"(").concat(R.options().windowSize,")"),R.stroke(),"".concat(A.type(),"(").concat(A.options().windowSize,")"),A.stroke(),function(t){var e=t.currentItem||{},n=e.open,r=void 0===n?"":n,c=e.high,i=void 0===c?"":c,o=e.close,a=void 0===o?"":o,u=e.low,s=void 0===u?"":u,d=e.date,f=void 0===d?"":d;return{x:f?y()(f).format("ddd, MMM D, YYYY h:mm:ss A"):"",y:[{label:"open",value:r?r.toFixed(2):0},{label:"high",value:i?i.toFixed(2):0},{label:"low",value:s?s.toFixed(2):0},{label:"close",value:a?s.toFixed(2):0}].filter((function(t){return t.value}))}}),fontSize:15})},D=function(t){var e=t.xGrid,n=t.yGrid;return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)(w.XAxis,Object(x.a)({axisAt:"bottom",orient:"bottom",zoomEnabled:!0},e)),Object(r.jsx)(w.YAxis,Object(x.a)({axisAt:"left",orient:"left",ticks:5,zoomEnabled:!0},n))]})},T=function(){var t=Object(c.useState)({}),e=Object(b.a)(t,2),n=e[0],r=e[1],i=Object(c.useState)(null),o=Object(b.a)(i,2),a=o[0],u=o[1],s=Object(c.useRef)(null),d=Object(c.useCallback)((function(){var t;return null===(t=s.current)||void 0===t?void 0:t.disconnect()}),[]),f=Object(c.useCallback)((function(){s.current=new ResizeObserver((function(t){var e=Object(b.a)(t,1)[0];return r(e)})),a&&s.current.observe(a)}),[a]);return Object(c.useLayoutEffect)((function(){return f(),function(){return d()}}),[d,f]),[u,n]},z=n(129),L=n.n(z),F="http://kaboom.rksv.net",G="".concat(F,"/api"),H="".concat(F,"/watch"),M="HISTORICAL_OHLC_CHART",I="LIVE_OHLC_CHART",Y=function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get("".concat(G,"/historical"));case 3:if(200!==(e=t.sent).status||!e.data){t.next=6;break}return t.abrupt("return",e.data);case 6:return t.abrupt("return",[]);case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),_=function(t){var e=t.split(",");return{date:+e[0],open:+e[1]||0,high:+e[2]||0,low:+e[3]||0,close:+e[4]||0,volume:+e[5]||0}},P=function(t){return t?y()(t).format("DD-MM-YY HH:mm:ss"):null},W=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1)if(0===r)e.push(Object(x.a)(Object(x.a)({},t[0]),{},{date:new Date(t[0].date)}));else{var c=t[r-1].date,i=t[r].date;P(i)>P(c)&&e.push(Object(x.a)(Object(x.a)({},t[r]),{},{date:new Date(i)}))}return e},X=n(130),B=n.n(X)()(H,{secure:!1}),J=function(){};B.on("connect",(function(){console.log(B.connected)})),B.subscribe=function(t){J=t,B.emit("sub",{state:!0})},B.on("data",(function(t,e){J(t),e(1)})),B.unsubscribe=function(){B.emit("unsub",{state:!1})},B.on("error",(function(t){console.error("Response: ".concat(t))}));var N=B,V=function(){var t=Object(f.a)(d.a.mark((function t(){var e,n,r,c,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y();case 2:if(!(e=t.sent)||!e.length){t.next=11;break}return n=e.map((function(t){return _(t)})),r=n.sort((function(t,e){return t.date-e.date})),c=W(r),i=c.map((function(t){return Object(x.a)(Object(x.a)({},t),{},{date:new Date(t.date)})})),t.abrupt("return",i);case 11:return t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(t){N.subscribe(t)},K=function(){N.unsubscribe()},Q=function(t,e){var n=0;return function(){var r=(new Date).getTime();if(r-n>e)return n=r,t.apply(void 0,arguments)}}((function(t){var e=_(t);return e.date=new Date(e.date),e}),1e3),U=function(t){return t&&t.date},Z={left:50,right:20,top:20,bottom:30},$=30,tt=10,et=Object(c.forwardRef)((function(t,e){var n=Object(c.useState)(1),i=Object(b.a)(n,2),o=i[0],a=i[1],u=Object(c.useState)(t.chartData),s=Object(b.a)(u,2),d=s[0],f=s[1],O=t.type,x=t.ratio,w=t.chartData,g=t.width,m=t.height,y=t.showGrid,S=E(Z,m,g,y),k=Object(b.a)(S,2),R=k[0],A=k[1],T=Object(c.useRef)([]);Object(c.useEffect)((function(){var t=$;g<486&&(t=tt);var e=t?w.slice(-t):w;f(e)}),[w.length]),Object(c.useEffect)((function(){return function(){return K()}}),[]),T.current=[U(Object(p.last)(d)),U(d[0])];return Object(r.jsxs)(l.b,{ref:e,height:m,ratio:x,width:g,margin:Z,type:O,seriesName:"MSFT_".concat(o),data:d,xScale:Object(v.scaleTime)(),xAccessor:U,displayXAccessor:U,xExtents:T.current,mouseMoveEvent:!0,panEvent:!0,zoomEvent:!0,clamp:!1,children:[Object(r.jsx)(C,{}),Object(r.jsxs)(l.a,{id:1,yExtents:function(t){return[t.high,t.low]},children:[Object(r.jsx)(D,{xGrid:R,yGrid:A}),Object(r.jsx)(h.CandlestickSeries,{width:Object(p.timeIntervalBarWidth)(j.a)}),Object(r.jsx)(l.c,{onReset:function(){a((function(t){return t+1}))}})]})]})}));et.defaultProps={type:"svg",showGrid:!0};var nt=Object(O.fitWidth)(et),rt=n(131),ct={left:70,right:70,top:20,bottom:30},it=rt.discontinuousTimeScaleProvider.inputDateAccessor((function(t){return t.date})),ot=Object(c.forwardRef)((function(t,e){var n=Object(c.useState)(1),i=Object(b.a)(n,2),o=i[0],a=i[1],u=t.type,s=t.ratio,d=t.chartData,f=t.width,j=t.height,v=t.showGrid,O=Object(c.useRef)([]),x=E(ct,j,f,v),w=Object(b.a)(x,2),g=w[0],m=w[1];if(!d.length)return null;var y=it(d),S=y.data,k=y.xScale,R=y.xAccessor,A=y.displayXAccessor;O.current=[R(Object(p.last)(S)),R(S[S.length-100])];return Object(r.jsxs)(l.b,{ref:e,height:j,ratio:s,width:f,margin:ct,type:u,seriesName:"MSFT_".concat(o),data:S,xScale:k,xAccessor:R,displayXAccessor:A,xExtents:O.current,mouseMoveEvent:!0,panEvent:!0,zoomEvent:!0,clamp:!1,children:[Object(r.jsx)(C,{}),Object(r.jsxs)(l.a,{id:1,yExtents:function(t){return[t.high,t.low]},children:[Object(r.jsx)(D,{xGrid:g,yGrid:m}),Object(r.jsx)(l.c,{onReset:function(){a((function(t){return t+1}))}}),Object(r.jsx)(h.CandlestickSeries,{})]})]})}));ot.defaultProps={type:"svg"};var at=Object(O.fitWidth)(ot),ut=n(32),st=n(33);function dt(){var t=Object(ut.a)(["\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  animation: "," 2s linear infinite;\n"]);return dt=function(){return t},t}function ft(){var t=Object(ut.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]);return ft=function(){return t},t}function bt(){var t=Object(ut.a)(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]);return bt=function(){return t},t}function lt(){var t=Object(ut.a)(["\n  border: none;\n  background: none;\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 500;\n  width: 100%;\n  transition: all 0.2s ease 0s;\n  color: rgb(0, 120, 255);\n  border-bottom: ",";\n  cursor: pointer;\n"]);return lt=function(){return t},t}function ht(){var t=Object(ut.a)(["\n  width: calc(100vw - 10%);\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgb(255, 255, 255);\n  display: flex;\n  justify-content: space-around;\n  height: 60px;\n  box-shadow: rgb(0, 0, 0) 0px 3px 6px -6px;\n"]);return ht=function(){return t},t}function jt(){var t=Object(ut.a)(["\n  height: calc(100vh - 30%);\n  width: calc(100vw - 10%);\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  border: 1px dashed #666666;\n"]);return jt=function(){return t},t}function vt(){var t=Object(ut.a)(["\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n"]);return vt=function(){return t},t}var Ot=st.a.div(vt()),pt=st.a.div(jt()),xt=st.a.div(ht()),wt=st.a.section(lt(),(function(t){return t.isActive?"2px solid rgb(0, 120, 255)":"none"})),gt=Object(st.b)(bt()),mt=st.a.div(ft()),yt=st.a.div(dt(),gt),St=function(){var t=Object(c.useState)(M),e=Object(b.a)(t,2),n=e[0],i=e[1],o=T(),a=Object(b.a)(o,2),s=a[0],l=a[1],h=Object(c.useState)([]),j=Object(b.a)(h,2),v=j[0],O=j[1],p=Object(c.useState)([]),x=Object(b.a)(p,2),w=x[0],g=x[1],m=function(){var t=Object(f.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V();case 2:e=t.sent,O(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(t){if(t){var e=Q(t);e&&g((function(t){return[].concat(Object(u.a)(t),[e])}))}},S=function(){"visible"===document.visibilityState?q(y):K()},k=function(){q(y)};Object(c.useEffect)((function(){return window.addEventListener("online",k),document.addEventListener("visibilitychange",S),function(){window.removeEventListener("online",k),document.removeEventListener("visibilitychange",S)}}),[]),Object(c.useEffect)((function(){n===M?m():q(y)}),[n]);var E=function(t){return function(){n!==t&&i(t)}},R=function(){return Object(r.jsx)(mt,{children:Object(r.jsx)(yt,{})})};return Object(r.jsxs)(Ot,{children:[Object(r.jsxs)(xt,{children:[Object(r.jsx)(wt,{onClick:E(M),isActive:n===M,children:"Historical Chart"}),Object(r.jsx)(wt,{onClick:E(I),isActive:n===I,children:"Live Chart"})]}),Object(r.jsx)(pt,{ref:s,children:n===M?v.length?Object(r.jsx)(at,{width:l.contentRect?l.contentRect.width:window.innerWidth,ration:2,type:"hybrid",chartData:v,height:l.contentRect?l.contentRect.height:window.innerHeight,showGrid:!0}):R():w.length>1?Object(r.jsx)(nt,{width:l.contentRect?l.contentRect.width:window.innerWidth,ration:2,type:"hybrid",chartData:w,height:l.contentRect?l.contentRect.height:window.innerHeight,showGrid:!0}):R()})]})},kt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,279)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),i(t),o(t)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(St,{})}),document.getElementById("root")),kt()}},[[274,1,2]]]);
//# sourceMappingURL=main.aaa750ff.chunk.js.map